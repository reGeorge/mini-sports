{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { showToast } from 'vant';\nimport TabbarLayout from '@/components/layout/TabbarLayout.vue';\nexport default {\n  name: 'Profile',\n  components: {\n    TabbarLayout\n  },\n  setup() {\n    const router = useRouter();\n    const userInfo = ref({});\n    onMounted(() => {\n      const storedUserInfo = localStorage.getItem('userInfo');\n      if (storedUserInfo) {\n        userInfo.value = JSON.parse(storedUserInfo);\n      } else {\n        router.push('/login');\n      }\n    });\n    const goToUserDetail = () => {\n      router.push('/user/detail');\n    };\n    const goToMyEvents = () => {\n      router.push('/user/events');\n    };\n    const goToEventRegister = () => {\n      router.push('/event/register');\n    };\n    const goToNotices = () => {\n      router.push('/notices');\n    };\n    const goToNoticeDetail = () => {\n      router.push('/notice/detail');\n    };\n    const goToGroupDetail = () => {\n      showToast('功能开发中');\n    };\n    const handleLogout = () => {\n      localStorage.removeItem('userInfo');\n      showToast('退出成功');\n      router.push('/login');\n    };\n    return {\n      userInfo,\n      goToUserDetail,\n      goToMyEvents,\n      goToEventRegister,\n      goToNotices,\n      goToNoticeDetail,\n      goToGroupDetail,\n      handleLogout\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","showToast","TabbarLayout","name","components","setup","router","userInfo","storedUserInfo","localStorage","getItem","value","JSON","parse","push","goToUserDetail","goToMyEvents","goToEventRegister","goToNotices","goToNoticeDetail","goToGroupDetail","handleLogout","removeItem"],"sources":["/Users/regeorge/Documents/codeStore/mini-sports/sports-h5/src/views/user/Profile.vue"],"sourcesContent":["<template>\n  <tabbar-layout>\n    <div class=\"profile\">\n      <van-nav-bar title=\"我的\" />\n      \n      <!-- 用户基本信息卡片 -->\n      <div class=\"user-card\">\n        <div class=\"user-info\">\n          <van-image\n            round\n            width=\"60\"\n            height=\"60\"\n            :src=\"userInfo.avatarUrl || '/images/avatar/fzd.png'\"\n          />\n          <div class=\"user-detail\">\n            <div class=\"nickname\">{{ userInfo.nickname }}</div>\n            <div class=\"view-profile\" @click=\"goToUserDetail\">查看资料</div>\n          </div>\n        </div>\n        <div class=\"points-info\">\n          <div class=\"points-label\">积分</div>\n          <div class=\"points-value\">{{ userInfo.points || 0 }} ({{ userInfo.level || 'Y5' }})</div>\n        </div>\n      </div>\n\n      <!-- 功能按钮区 -->\n      <div class=\"action-buttons\">\n        <van-button block class=\"action-btn\" @click=\"goToMyEvents\">\n          <template #icon>\n            <van-icon name=\"medal-o\" />\n          </template>\n          我参加的赛事\n        </van-button>\n      </div>\n\n    \n    </div>\n  </tabbar-layout>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { showToast } from 'vant'\nimport TabbarLayout from '@/components/layout/TabbarLayout.vue'\n\nexport default {\n  name: 'Profile',\n  components: {\n    TabbarLayout\n  },\n  setup() {\n    const router = useRouter()\n    const userInfo = ref({})\n\n    onMounted(() => {\n      const storedUserInfo = localStorage.getItem('userInfo')\n      if (storedUserInfo) {\n        userInfo.value = JSON.parse(storedUserInfo)\n      } else {\n        router.push('/login')\n      }\n    })\n\n    const goToUserDetail = () => {\n      router.push('/user/detail')\n    }\n\n    const goToMyEvents = () => {\n      router.push('/user/events')\n    }\n\n    const goToEventRegister = () => {\n      router.push('/event/register')\n    }\n\n    const goToNotices = () => {\n      router.push('/notices')\n    }\n\n    const goToNoticeDetail = () => {\n      router.push('/notice/detail')\n    }\n\n    const goToGroupDetail = () => {\n      showToast('功能开发中')\n    }\n\n    const handleLogout = () => {\n      localStorage.removeItem('userInfo')\n      showToast('退出成功')\n      router.push('/login')\n    }\n\n    return {\n      userInfo,\n      goToUserDetail,\n      goToMyEvents,\n      goToEventRegister,\n      goToNotices,\n      goToNoticeDetail,\n      goToGroupDetail,\n      handleLogout\n    }\n  }\n}\n</script>\n\n<style scoped>\n.profile {\n  min-height: 100vh;\n  background-color: #f7f8fa;\n  padding-bottom: 50px;\n}\n\n.user-card {\n  background: white;\n  padding: 20px;\n  margin-bottom: 10px;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.user-detail {\n  margin-left: 15px;\n}\n\n.nickname {\n  font-size: 18px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n.view-profile {\n  color: #666;\n  font-size: 14px;\n}\n\n.points-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  border-top: 1px solid #eee;\n}\n\n.points-label {\n  color: #666;\n  font-size: 14px;\n}\n\n.points-value {\n  color: #ff6b01;\n  font-weight: bold;\n}\n\n.action-buttons {\n  padding: 15px;\n  background: white;\n  margin-bottom: 10px;\n}\n\n.action-btn {\n  margin-bottom: 10px;\n  background: #f5f5f5;\n  border: none;\n  color: #333;\n  height: 44px;\n  font-size: 14px;\n}\n\n.action-btn:last-child {\n  margin-bottom: 0;\n}\n\n.notice-section {\n  background: white;\n}\n\n.notice-icon {\n  margin-right: 5px;\n  color: #666;\n}\n\n:deep(.van-cell) {\n  align-items: center;\n}\n\n:deep(.van-tabbar) {\n  border-top: 1px solid #eee;\n}\n\n:deep(.van-tabbar-item) {\n  color: #666;\n  font-size: 12px;\n}\n\n:deep(.van-tabbar-item--active) {\n  color: #1989fa;\n}\n\n:deep(.van-tabbar-item__icon) {\n  font-size: 20px;\n}\n</style> "],"mappings":"AAyCA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,SAASC,SAAQ,QAAS,YAAW;AACrC,SAASC,SAAQ,QAAS,MAAK;AAC/B,OAAOC,YAAW,MAAO,sCAAqC;AAE9D,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIN,SAAS,CAAC;IACzB,MAAMO,QAAO,GAAIT,GAAG,CAAC,CAAC,CAAC;IAEvBC,SAAS,CAAC,MAAM;MACd,MAAMS,cAAa,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU;MACtD,IAAIF,cAAc,EAAE;QAClBD,QAAQ,CAACI,KAAI,GAAIC,IAAI,CAACC,KAAK,CAACL,cAAc;MAC5C,OAAO;QACLF,MAAM,CAACQ,IAAI,CAAC,QAAQ;MACtB;IACF,CAAC;IAED,MAAMC,cAAa,GAAIA,CAAA,KAAM;MAC3BT,MAAM,CAACQ,IAAI,CAAC,cAAc;IAC5B;IAEA,MAAME,YAAW,GAAIA,CAAA,KAAM;MACzBV,MAAM,CAACQ,IAAI,CAAC,cAAc;IAC5B;IAEA,MAAMG,iBAAgB,GAAIA,CAAA,KAAM;MAC9BX,MAAM,CAACQ,IAAI,CAAC,iBAAiB;IAC/B;IAEA,MAAMI,WAAU,GAAIA,CAAA,KAAM;MACxBZ,MAAM,CAACQ,IAAI,CAAC,UAAU;IACxB;IAEA,MAAMK,gBAAe,GAAIA,CAAA,KAAM;MAC7Bb,MAAM,CAACQ,IAAI,CAAC,gBAAgB;IAC9B;IAEA,MAAMM,eAAc,GAAIA,CAAA,KAAM;MAC5BnB,SAAS,CAAC,OAAO;IACnB;IAEA,MAAMoB,YAAW,GAAIA,CAAA,KAAM;MACzBZ,YAAY,CAACa,UAAU,CAAC,UAAU;MAClCrB,SAAS,CAAC,MAAM;MAChBK,MAAM,CAACQ,IAAI,CAAC,QAAQ;IACtB;IAEA,OAAO;MACLP,QAAQ;MACRQ,cAAc;MACdC,YAAY;MACZC,iBAAiB;MACjBC,WAAW;MACXC,gBAAgB;MAChBC,eAAe;MACfC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}