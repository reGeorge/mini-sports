{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { showToast } from 'vant';\nexport default {\n  name: 'UserDetail',\n  setup() {\n    const router = useRouter();\n    const formData = ref({\n      avatarUrl: '',\n      nickname: '',\n      phone: '',\n      gripStyle: '',\n      racketConfig: ''\n    });\n\n    // 从本地存储获取用户信息\n    const loadUserInfo = () => {\n      const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}');\n      formData.value = {\n        ...formData.value,\n        ...userInfo\n      };\n    };\n    onMounted(() => {\n      loadUserInfo();\n    });\n    const onClickLeft = () => {\n      router.back();\n    };\n    const handleEdit = () => {\n      router.push('/user/edit');\n    };\n\n    // 监听路由变化，每次进入页面时重新加载用户信息\n    router.beforeEach((to, from, next) => {\n      if (to.path === '/user/detail') {\n        loadUserInfo();\n      }\n      next();\n    });\n    return {\n      formData,\n      onClickLeft,\n      handleEdit\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","showToast","name","setup","router","formData","avatarUrl","nickname","phone","gripStyle","racketConfig","loadUserInfo","userInfo","JSON","parse","localStorage","getItem","value","onClickLeft","back","handleEdit","push","beforeEach","to","from","next","path"],"sources":["/Users/regeorge/Documents/codeStore/mini-sports/sports-h5/src/views/user/UserDetail.vue"],"sourcesContent":["<template>\n  <div class=\"user-detail\">\n    <van-nav-bar\n      title=\"查看资料\"\n      left-text=\"返回\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n    />\n    \n    <div class=\"form-content\">\n      <!-- 添加头像显示 -->\n      <div class=\"avatar-wrapper\">\n        <van-image\n          round\n          width=\"80\"\n          height=\"80\"\n          :src=\"formData.avatarUrl || '/images/avatar/fzd.png'\"\n        />\n      </div>\n      <!-- 基本信息 -->\n      <van-cell-group inset>\n        <van-field\n          v-model=\"formData.nickname\"\n          label=\"姓名\"\n          placeholder=\"请输入姓名\"\n          :rules=\"[{ required: true, message: '请填写姓名' }]\"\n          readonly\n        >\n          <template #label>\n            <span class=\"required-label\">姓名</span>\n          </template>\n        </van-field>\n        <van-field\n          v-model=\"formData.phone\"\n          label=\"手机\"\n          placeholder=\"请输入手机号\"\n          readonly\n        >\n          <template #label>\n            <span class=\"required-label\">手机</span>\n          </template>\n        </van-field>\n      </van-cell-group>\n\n      <!-- 球拍信息 -->\n      <van-cell-group inset class=\"grip-info\">\n        <van-field\n          v-model=\"formData.gripStyle\"\n          label=\"握拍方式\"\n          readonly\n        >\n          <template #label>\n            <span class=\"required-label\">握拍方式</span>\n          </template>\n        </van-field>\n\n        <van-field\n          v-model=\"formData.racketConfig\"\n          label=\"球拍配置\"\n          readonly\n        >\n          <template #label>\n            <span class=\"required-label\">球拍配置</span>\n          </template>\n        </van-field>\n      </van-cell-group>\n\n      <!-- 编辑按钮 -->\n      <div class=\"button-group\">\n        <van-button type=\"primary\" block @click=\"handleEdit\">编辑资料</van-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { showToast } from 'vant'\n\nexport default {\n  name: 'UserDetail',\n  setup() {\n    const router = useRouter()\n    const formData = ref({\n      avatarUrl: '',\n      nickname: '',\n      phone: '',\n      gripStyle: '',\n      racketConfig: ''\n    })\n\n    // 从本地存储获取用户信息\n    const loadUserInfo = () => {\n      const userInfo = JSON.parse(localStorage.getItem('userInfo') || '{}')\n      formData.value = {\n        ...formData.value,\n        ...userInfo\n      }\n    }\n\n    onMounted(() => {\n      loadUserInfo()\n    })\n\n    const onClickLeft = () => {\n      router.back()\n    }\n\n    const handleEdit = () => {\n      router.push('/user/edit')\n    }\n\n    // 监听路由变化，每次进入页面时重新加载用户信息\n    router.beforeEach((to, from, next) => {\n      if (to.path === '/user/detail') {\n        loadUserInfo()\n      }\n      next()\n    })\n\n    return {\n      formData,\n      onClickLeft,\n      handleEdit\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-detail {\n  min-height: 100vh;\n  background-color: #f7f8fa;\n  padding-bottom: 20px;\n}\n\n.form-content {\n  padding: 20px;\n}\n\n.grip-info {\n  margin-top: 12px;\n}\n\n.button-group {\n  margin-top: 20px;\n  padding: 0 16px;\n}\n\n.required-label::before {\n  content: '*';\n  color: #ee0a24;\n  margin-right: 4px;\n}\n\n:deep(.van-cell-group) {\n  margin: 0;\n}\n\n:deep(.van-field__label) {\n  width: 80px;\n}\n\n.avatar-wrapper {\n  text-align: center;\n  margin-bottom: 20px;\n}\n</style> "],"mappings":"AA4EA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,SAASC,SAAQ,QAAS,YAAW;AACrC,SAASC,SAAQ,QAAS,MAAK;AAE/B,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIJ,SAAS,CAAC;IACzB,MAAMK,QAAO,GAAIP,GAAG,CAAC;MACnBQ,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE;IAChB,CAAC;;IAED;IACA,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACzB,MAAMC,QAAO,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,KAAK,IAAI;MACpEX,QAAQ,CAACY,KAAI,GAAI;QACf,GAAGZ,QAAQ,CAACY,KAAK;QACjB,GAAGL;MACL;IACF;IAEAb,SAAS,CAAC,MAAM;MACdY,YAAY,CAAC;IACf,CAAC;IAED,MAAMO,WAAU,GAAIA,CAAA,KAAM;MACxBd,MAAM,CAACe,IAAI,CAAC;IACd;IAEA,MAAMC,UAAS,GAAIA,CAAA,KAAM;MACvBhB,MAAM,CAACiB,IAAI,CAAC,YAAY;IAC1B;;IAEA;IACAjB,MAAM,CAACkB,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;MACpC,IAAIF,EAAE,CAACG,IAAG,KAAM,cAAc,EAAE;QAC9Bf,YAAY,CAAC;MACf;MACAc,IAAI,CAAC;IACP,CAAC;IAED,OAAO;MACLpB,QAAQ;MACRa,WAAW;MACXE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}